<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
<script type="text/javascript">google.charts.load('current', {'packages':['corechart']});
google.charts.setOnLoadCallback(drawChart);
function drawChart(){
var T1=0.5; 
var T2=0.2;
var T3=1;
var k1=10;
var k2=40;
var k3=0.01;
var e=0.2;
var w=0;
var dw=0.01; 
var Re, Im, y, x;//Lab3
var u,v;
var ns, tau=3;
var temp;


x=0;
y=0;
var A=new Array(['x', 'y']);
var B=new Array(['A', 'w']);

//var B=new Array(['x', 'y(k>kкр)']);
//var C=new Array(['x', 'y(k<kкр)'']);
var i=1;
addsum = 0.0;
while(w < 10){

u=(T1*(T2*T2)*T3)*(w*w*w*w)-((T1*T3)*(w*w))-(T1+T3)*(2*e*T2)*(w*w)-T2*T2*(w*w)+1;
v=(-2*e*T1*T2*T3)*(w*w*w)-(T1+T3)*T2*T2*(w*w*w)+(T1+T3)*w+2*e*T2*w;


Re = ((k1*k2*k3)*u)/ (u*u+v*v);
Im = (-(k1*k2*k3)*v)/ (u*u+v*v);

Aw=(k1*k2*k3)/((Math.sqrt(1+w*w*T1*T1)*(Math.sqrt((1-w*w*T2*T2)^2*+4*e*e*w*w*T2*T2))*(Math.sqrt(1+w*w*T3*T3))));
addsum = Re >= 0 ? 0 : Math.PI;

PhiW=Math.atan(Im/Re) + temp;


y=Im;
x=Re;
A[i]=[x, y];
B[i]=[Aw,PhiW];

w=w+dw;
i++;
}
console.log(B);
var data = google.visualization.arrayToDataTable(A);
var options = {
title: 'Комплексная плоскость',
curveType: 'function',
hAxis: {
title: 't'
},
vAxis: {
title: 'АФЧХ'
},
legend: { position: 'bottom' }
};
var chart = new google.visualization.LineChart(document.getElementById('curve_chart2'));
chart.draw(data, options);
}
</script>
<div id="curve_chart2" style="width: 1400px; height: 550px"></div>